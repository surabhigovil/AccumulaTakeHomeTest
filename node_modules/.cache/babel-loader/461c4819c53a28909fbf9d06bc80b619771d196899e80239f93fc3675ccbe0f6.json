{"ast":null,"code":"var moment = require('moment'); // require\n\nconst DATE_FORMAT = 'D-MMM-YYYY';\nconst SUNDAY = 0; // moment day index\nconst SATURDAY = 6; // moment day index\nconst WEEKENDS = [SATURDAY, SUNDAY];\nexport function findDaysToShip(product) {\n  console.log(product);\n  let weekendsIncluded = product.shipOnWeekends;\n  let maxDaysToShip = product.maxBusinessDaysToShip;\n  const current = new Date();\n  let days = 0;\n  if (product.shipOnWeekends) {\n    days = getWeekendCount(current, maxDaysToShip);\n    console.log(days);\n  }\n  let approxShipDate = new Date(current.setDate(current.getDate() + maxDaysToShip + days));\n  console.log(approxShipDate);\n\n  // const stringDate = `${current.getDate()}-${current.getMonth()+1}-${current.getFullYear()}`;\n\n  // while (maxDaysToShip > 0) {\n  //     // today.setDate(today.getDate() + maxDaysToShip);\n\n  //     stringDate.add(1, 'day');\n\n  //     // Skip weekends\n  //     if (WEEKENDS.includes(stringDate.day())) {\n  //         continue;\n  //     }\n\n  //     // Increment count\n  //     maxDaysToShip--;\n  // }\n\n  return stringDate;\n}\nfunction getWeekendCount(d1, maxDaysToShip) {\n  const d2 = new Date(d1.setDate(d1.getDate() + maxDaysToShip));\n  let weekendDaysCount = 0;\n  while (d1 < d2) {\n    var day = d1.getDay();\n    if (day === 6 || day === 0) {\n      ++weekendDaysCount;\n    }\n    d1.setDate(d1.getDate() + 1);\n  }\n  return weekendDaysCount;\n}","map":{"version":3,"names":["moment","require","DATE_FORMAT","SUNDAY","SATURDAY","WEEKENDS","findDaysToShip","product","console","log","weekendsIncluded","shipOnWeekends","maxDaysToShip","maxBusinessDaysToShip","current","Date","days","getWeekendCount","approxShipDate","setDate","getDate","stringDate","d1","d2","weekendDaysCount","day","getDay"],"sources":["/Users/surabhi/Documents/AccumulaTest/shipping-tracker/src/utils/util.js"],"sourcesContent":["var moment = require('moment'); // require\n\nconst DATE_FORMAT = 'D-MMM-YYYY';\nconst SUNDAY = 0; // moment day index\nconst SATURDAY = 6; // moment day index\nconst WEEKENDS = [SATURDAY, SUNDAY];\n\nexport function findDaysToShip(product) {\n    console.log(product)\n    let weekendsIncluded = product.shipOnWeekends\n    let maxDaysToShip = product.maxBusinessDaysToShip\n\n    const current = new Date();\n    let days = 0;\n\n    if (product.shipOnWeekends) {\n        days = getWeekendCount(current, maxDaysToShip);\n        console.log(days);\n    }\n    \n    let approxShipDate = new Date(current.setDate(current.getDate() + maxDaysToShip + days));\n    console.log(approxShipDate);\n\n    // const stringDate = `${current.getDate()}-${current.getMonth()+1}-${current.getFullYear()}`;\n                \n    // while (maxDaysToShip > 0) {\n    //     // today.setDate(today.getDate() + maxDaysToShip);\n\n    //     stringDate.add(1, 'day');\n\n    //     // Skip weekends\n    //     if (WEEKENDS.includes(stringDate.day())) {\n    //         continue;\n    //     }\n\n    //     // Increment count\n    //     maxDaysToShip--;\n    // }\n        \n    return stringDate;\n}\n\nfunction getWeekendCount(d1, maxDaysToShip) {\n    const d2 = new Date(d1.setDate(d1.getDate() + maxDaysToShip));\n    let weekendDaysCount = 0;\n\n    while (d1 < d2) {\n        var day = d1.getDay();\n        if ((day === 6) || (day === 0)) { ++weekendDaysCount; }\n        d1.setDate(d1.getDate() + 1);\n    }\n    return weekendDaysCount;\n}"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;;AAEhC,MAAMC,WAAW,GAAG,YAAY;AAChC,MAAMC,MAAM,GAAG,CAAC,CAAC,CAAC;AAClB,MAAMC,QAAQ,GAAG,CAAC,CAAC,CAAC;AACpB,MAAMC,QAAQ,GAAG,CAACD,QAAQ,EAAED,MAAM,CAAC;AAEnC,OAAO,SAASG,cAAcA,CAACC,OAAO,EAAE;EACpCC,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;EACpB,IAAIG,gBAAgB,GAAGH,OAAO,CAACI,cAAc;EAC7C,IAAIC,aAAa,GAAGL,OAAO,CAACM,qBAAqB;EAEjD,MAAMC,OAAO,GAAG,IAAIC,IAAI,EAAE;EAC1B,IAAIC,IAAI,GAAG,CAAC;EAEZ,IAAIT,OAAO,CAACI,cAAc,EAAE;IACxBK,IAAI,GAAGC,eAAe,CAACH,OAAO,EAAEF,aAAa,CAAC;IAC9CJ,OAAO,CAACC,GAAG,CAACO,IAAI,CAAC;EACrB;EAEA,IAAIE,cAAc,GAAG,IAAIH,IAAI,CAACD,OAAO,CAACK,OAAO,CAACL,OAAO,CAACM,OAAO,EAAE,GAAGR,aAAa,GAAGI,IAAI,CAAC,CAAC;EACxFR,OAAO,CAACC,GAAG,CAACS,cAAc,CAAC;;EAE3B;;EAEA;EACA;;EAEA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA,OAAOG,UAAU;AACrB;AAEA,SAASJ,eAAeA,CAACK,EAAE,EAAEV,aAAa,EAAE;EACxC,MAAMW,EAAE,GAAG,IAAIR,IAAI,CAACO,EAAE,CAACH,OAAO,CAACG,EAAE,CAACF,OAAO,EAAE,GAAGR,aAAa,CAAC,CAAC;EAC7D,IAAIY,gBAAgB,GAAG,CAAC;EAExB,OAAOF,EAAE,GAAGC,EAAE,EAAE;IACZ,IAAIE,GAAG,GAAGH,EAAE,CAACI,MAAM,EAAE;IACrB,IAAKD,GAAG,KAAK,CAAC,IAAMA,GAAG,KAAK,CAAE,EAAE;MAAE,EAAED,gBAAgB;IAAE;IACtDF,EAAE,CAACH,OAAO,CAACG,EAAE,CAACF,OAAO,EAAE,GAAG,CAAC,CAAC;EAChC;EACA,OAAOI,gBAAgB;AAC3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}