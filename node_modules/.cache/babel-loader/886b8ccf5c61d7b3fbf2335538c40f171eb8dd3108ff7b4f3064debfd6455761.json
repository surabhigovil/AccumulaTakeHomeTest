{"ast":null,"code":"import _objectSpread from\"/Users/surabhi/Documents/AccumulaTest/shipping-tracker/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/surabhi/Documents/AccumulaTest/shipping-tracker/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/surabhi/Documents/AccumulaTest/shipping-tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/surabhi/Documents/AccumulaTest/shipping-tracker/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/surabhi/Documents/AccumulaTest/shipping-tracker/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/surabhi/Documents/AccumulaTest/shipping-tracker/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/surabhi/Documents/AccumulaTest/shipping-tracker/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{Routes,Route,Link,BrowserRouter as Router}from\"react-router-dom\";import axios from'axios';import Cart from'./components/Cart';import ProductList from'./components/ProductList';import Context from\"./Context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.addToCart=function(cartItem){var cart=_this.state.cart;if(cart[cartItem.id]){cart[cartItem.id].amount+=cartItem.amount;}else{cart[cartItem.id]=cartItem;}if(cart[cartItem.id].amount>cart[cartItem.id].product.inventoryQuantity){cart[cartItem.id].amount=cart[cartItem.id].product.inventoryQuantity;}localStorage.setItem(\"cart\",JSON.stringify(cart));_this.setState({cart:cart});};_this.clearCart=function(){var cart={};localStorage.removeItem(\"cart\");_this.setState({cart:cart});};_this.state={user:null,cart:{},products:[],selectedDate:null};_this.routerRef=/*#__PURE__*/React.createRef();return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var cart,products;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:cart=localStorage.getItem(\"cart\");_context.next=3;return axios.get('http://localhost:3001/products');case 3:products=_context.sent;cart=cart?JSON.parse(cart):{};this.setState({products:products.data,cart:cart});case 6:case\"end\":return _context.stop();}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(Context.Provider,{value:_objectSpread(_objectSpread({},this.state),{},{addToCart:this.addToCart,clearCart:this.clearCart}),children:/*#__PURE__*/_jsx(Router,{ref:this.routerRef,children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar container\",role:\"navigation\",\"aria-label\":\"main navigation\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-brand\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"navbar-item is-size-4 \",children:\"Product Site\"}),/*#__PURE__*/_jsxs(\"label\",{role:\"button\",className:\"navbar-burger burger\",\"aria-label\":\"menu\",\"aria-expanded\":\"false\",\"data-target\":\"navbarBasicExample\",onClick:function onClick(e){e.preventDefault();_this2.setState({showMenu:!_this2.state.showMenu});},children:[/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-menu \".concat(this.state.showMenu?\"is-active\":\"\"),children:[/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"navbar-item\",children:\"Products\"}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",className:\"navbar-item\",children:\"Cart\"})]})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(ProductList,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/products\",element:/*#__PURE__*/_jsx(ProductList,{})})]})]})})});}}]);return App;}(Component);export{App as default};","map":{"version":3,"names":["React","Component","Routes","Route","Link","BrowserRouter","Router","axios","Cart","ProductList","Context","jsx","_jsx","jsxs","_jsxs","App","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","addToCart","cartItem","cart","state","id","amount","product","inventoryQuantity","localStorage","setItem","JSON","stringify","setState","clearCart","removeItem","user","products","selectedDate","routerRef","createRef","_createClass","key","value","_componentDidMount","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","getItem","get","sent","parse","data","stop","componentDidMount","apply","arguments","render","_this2","Provider","_objectSpread","children","ref","className","role","onClick","e","preventDefault","showMenu","concat","to","exact","path","element","default"],"sources":["/Users/surabhi/Documents/AccumulaTest/shipping-tracker/src/App.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Routes, Route, Link, BrowserRouter as Router } from \"react-router-dom\";\nimport axios from 'axios';\n\nimport Cart from './components/Cart';\nimport ProductList from './components/ProductList';\n\nimport Context from \"./Context\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      cart: {},\n      products: [],\n      selectedDate: null\n    };\n    this.routerRef = React.createRef();\n  }\n\n  async componentDidMount() {\n    let cart = localStorage.getItem(\"cart\");\n\n    const products = await axios.get('http://localhost:3001/products');\n    cart = cart? JSON.parse(cart) : {};\n\n    this.setState({ products: products.data, cart});\n  }\n\n  addToCart = cartItem => {\n    let cart = this.state.cart;\n    if (cart[cartItem.id]) {\n      cart[cartItem.id].amount += cartItem.amount;\n    } else {\n      cart[cartItem.id] = cartItem;\n    }\n    if (cart[cartItem.id].amount > cart[cartItem.id].product.inventoryQuantity) {\n      cart[cartItem.id].amount = cart[cartItem.id].product.inventoryQuantity;\n    }\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    this.setState({ cart });\n  };\n\n  clearCart = () => {\n    let cart = {};\n    localStorage.removeItem(\"cart\");\n    this.setState({ cart });\n  };\n\n  render() {\n    return (\n      <Context.Provider\n        value={{\n          ...this.state,\n          addToCart: this.addToCart,\n          clearCart: this.clearCart,\n        }}\n      >\n        <Router ref={this.routerRef}>\n        <div className=\"App\">\n          <nav\n            className=\"navbar container\"\n            role=\"navigation\"\n            aria-label=\"main navigation\"\n          >\n            <div className=\"navbar-brand\">\n              <b className=\"navbar-item is-size-4 \">Product Site</b>\n              <label\n                role=\"button\"\n                className=\"navbar-burger burger\"\n                aria-label=\"menu\"\n                aria-expanded=\"false\"\n                data-target=\"navbarBasicExample\"\n                onClick={e => {\n                  e.preventDefault();\n                  this.setState({ showMenu: !this.state.showMenu });\n                }}\n              >\n                <span aria-hidden=\"true\"></span>\n                <span aria-hidden=\"true\"></span>\n                <span aria-hidden=\"true\"></span>\n              </label>\n            </div>\n              <div className={`navbar-menu ${\n                  this.state.showMenu ? \"is-active\" : \"\"\n                }`}>\n                <Link to=\"/products\" className=\"navbar-item\">\n                  Products\n                </Link>\n                <Link to=\"/cart\" className=\"navbar-item\">\n                  Cart\n                </Link>\n              </div>\n            </nav>\n            <Routes>\n              <Route exact path=\"/\" element={<ProductList />}></Route>\n              <Route exact path=\"/cart\" element={<Cart />}></Route>\n              <Route exact path=\"/products\" element={<ProductList />}></Route>\n            </Routes>\n          </div>\n        </Router>\n      </Context.Provider>\n    );\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}